{
  "app-id": "io.github.Cockatrice.cockatrice",
  "runtime": "org.freedesktop.Platform",
  "runtime-version": "1.6",
  "sdk": "org.freedesktop.Sdk",
  "command": "cockatrice",
  "rename-desktop-file": "cockatrice.desktop",
  "rename-icon": "cockatrice",
  "copy-icon": true,
  "finish-args": [
    "--share=ipc",
    "--share=network",
    "--socket=x11",
    "--socket=wayland",
    "--filesystem=home"
  ],
  "cleanup": [
    "protoc",
    "*.la",
    "*.a",
    "/include",
    "/lib/pkgconfig"
  ],
  "modules": [
    "shared-modules/qt5/qt5-qtbase.json",
    "shared-modules/qt5/qt5-qtmultimedia.json",
    {
      "name": "qt5-qtsvg",
      "cleanup": [
      "/doc",
      "/include",
      "/lib/*.a",
      "/lib/*.la",
      "/lib/*.prl",
      "/lib/cmake",
      "/lib/debug",
      "/lib/mkspecs",
      "/lib/pkgconfig",
      "/lib/plugins"
      ],
      "sources": [
      {
        "type": "archive",
        "url": "https://download.qt.io/official_releases/qt/5.9/5.9.1/submodules/qtsvg-opensource-src-5.9.1.tar.xz",
        "sha256": "99f294f874b13553e4ed49cd9465580ad0c9b92e29cdfa47b2e4096835c1e2e5"
      },
      {
        "type": "script",
        "commands": [
          "qmake"
        ],
        "dest-filename": "configure"
      }
      ]
    },
    {
      "name": "qt5-qttools",
      "cleanup": [
      "/bin",
      "/doc",
      "/include",
      "/lib/*.a",
      "/lib/*.la",
      "/lib/*.prl",
      "/lib/cmake",
      "/lib/debug",
      "/lib/mkspecs",
      "/lib/pkgconfig",
      "/lib/plugins"
      ],
      "sources": [
      {
        "type": "archive",
        "url": "https://download.qt.io/official_releases/qt/5.9/5.9.1/submodules/qttools-opensource-src-5.9.1.tar.xz",
        "sha256": "c4eb56cf24a75661b8317b566be37396c90357b4f6730ef12b8c97a7079ca0e8"
      },
      {
        "type": "script",
        "commands": [
          "qmake"
        ],
        "dest-filename": "configure"
      }
      ]
    },
    {
      "name": "protobuf",
      "cleanup": [
      "/bin",
      "/doc",
      "/include",
      "/lib/*.a",
      "/lib/*.la",
      "/lib/debug",
      "/lib/plugins"
      ],
      "sources": [
      {
        "type": "archive",
        "url": "https://github.com/google/protobuf/releases/download/v3.4.0/protobuf-cpp-3.4.0.tar.gz",
        "sha256": "71434f6f836a1e479c44008bb033b2a8b2560ff539374dcdefb126be739e1635"
      }
      ]
    },
    {
      "name": "cockatrice",
      "buildsystem": "cmake",
      "config-opts": [
        "-DBUILD_SHARED_LIBS:BOOL=OFF"
      ],
      "sources": [
        {
          "type": "git",
          "branch": "2017-05-05-Release-2.3.17",
          "url": "git://github.com/Cockatrice/Cockatrice.git"
        },
        {
          "type": "file",
          "path": "io.github.Cockatrice.appdata.xml"
        }
      ],
      "post-install": [
        "mkdir -p /app/share/appdata",
        "cp io.github.Cockatrice.appdata.xml /app/share/appdata/io.github.Cockatrice.cockatrice.appdata.xml"
      ]
    }
  ]
}
